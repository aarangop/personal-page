import{s as ve,e as d,a as I,t as oe,c as m,b as U,l as q,g as T,f as y,d as ue,m as t,i as x,h as r,w as O,o as R,x as ge,y as ye}from"./scheduler.RyT_ppks.js";import{S as ke,i as Ce,t as Z,g as Ie,a as fe,c as Te,b as Ae,d as we,m as Ee,e as Se}from"./index.C3Nj-XYD.js";import{t as Ue,a as Fe}from"./utils.7Z_EbZrr.js";import{I as Pe}from"./Icon.BFuADdba.js";function Le(n){let e,l="Feed okay!";return{c(){e=d("span"),e.textContent=l,this.h()},l(a){e=m(a,"SPAN",{role:!0,class:!0,"data-svelte-h":!0}),q(e)!=="svelte-14b83ix"&&(e.textContent=l),this.h()},h(){t(e,"role","alert"),t(e,"class","mt-2 text-success-600 dark:text-success-200")},m(a,o){x(a,e,o)},d(a){a&&y(e)}}}function Ne(n){let e,l="Invalid feed";return{c(){e=d("span"),e.textContent=l,this.h()},l(a){e=m(a,"SPAN",{role:!0,class:!0,"data-svelte-h":!0}),q(e)!=="svelte-8zvhev"&&(e.textContent=l),this.h()},h(){t(e,"role","alert"),t(e,"class","mt-2 text-error-600 dark:text-error-200")},m(a,o){x(a,e,o)},d(a){a&&y(e)}}}function be(n){let e,l,a,o,p;return l=new Pe({props:{class:"w-4 h-4 me-2",icon:"flowbite:trash-bin-outline"}}),{c(){e=d("button"),Ae(l.$$.fragment),a=oe(`
				Delete`),this.h()},l(u){e=m(u,"BUTTON",{class:!0,type:!0,formaction:!0});var i=U(e);we(l.$$.fragment,i),a=ue(i,`
				Delete`),i.forEach(y),this.h()},h(){t(e,"class","btn variant-filled-error"),t(e,"type","submit"),t(e,"formaction",o=`?/${n[4]}`)},m(u,i){x(u,e,i),Ee(l,e,null),r(e,a),p=!0},p(u,i){(!p||i&16&&o!==(o=`?/${u[4]}`))&&t(e,"formaction",o)},i(u){p||(Z(l.$$.fragment,u),p=!0)},o(u){fe(l.$$.fragment,u),p=!1},d(u){u&&y(e),Se(l)}}}function De(n){let e,l,a,o,p="Title",u,i,B,k,F="Slug",H,_,j,h,A,b="RSS Feed URL",$,g,G,ee,J,V,P,te,w,le,K,ae,z,ce='<label class="label mb-2" for="spotify_link">Spotify</label> <input class="input" type="url" id="spotify_link" name="spotify_link"/>',se,E,C,ne,Q,W,re,X,S,ie,de;function me(s,c){if(!s[6]&&s[7])return Ne;if(s[6]&&s[7])return Le}let M=me(n),v=M&&M(n),f=n[4].length&&be(n);return{c(){e=d("form"),l=d("div"),a=d("div"),o=d("label"),o.textContent=p,u=I(),i=d("input"),B=I(),k=d("label"),k.textContent=F,H=I(),_=d("input"),j=I(),h=d("div"),A=d("label"),A.textContent=b,$=I(),g=d("input"),ee=I(),v&&v.c(),J=I(),V=d("div"),P=d("input"),te=I(),w=d("button"),le=oe("Test feed"),ae=I(),z=d("div"),z.innerHTML=ce,se=I(),E=d("div"),C=d("button"),ne=oe("Save"),re=I(),f&&f.c(),this.h()},l(s){e=m(s,"FORM",{method:!0,class:!0,action:!0});var c=U(e);l=m(c,"DIV",{class:!0});var L=U(l);a=m(L,"DIV",{});var N=U(a);o=m(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(o)!=="svelte-zhkly"&&(o.textContent=p),u=T(N),i=m(N,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),B=T(N),k=m(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(k)!=="svelte-1mk8vbq"&&(k.textContent=F),H=T(N),_=m(N,"INPUT",{id:!0,name:!0,pattern:!0,placeholder:!0,class:!0}),N.forEach(y),j=T(L),h=m(L,"DIV",{});var D=U(h);A=m(D,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(A)!=="svelte-172u07t"&&(A.textContent=b),$=T(D),g=m(D,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),ee=T(D),v&&v.l(D),J=T(D),V=m(D,"DIV",{class:!0});var _e=U(V);P=m(_e,"INPUT",{name:!0}),_e.forEach(y),D.forEach(y),te=T(L),w=m(L,"BUTTON",{class:!0});var pe=U(w);le=ue(pe,"Test feed"),pe.forEach(y),ae=T(L),z=m(L,"DIV",{"data-svelte-h":!0}),q(z)!=="svelte-49az6f"&&(z.innerHTML=ce),L.forEach(y),se=T(c),E=m(c,"DIV",{class:!0});var Y=U(E);C=m(Y,"BUTTON",{type:!0,class:!0,formaction:!0});var he=U(C);ne=ue(he,"Save"),he.forEach(y),re=T(Y),f&&f.l(Y),Y.forEach(y),c.forEach(y),this.h()},h(){t(o,"class","mb-2 label"),t(o,"for","podcast_title"),t(i,"class","input mb-2"),t(i,"type","text"),t(i,"name","podcast_title"),t(i,"id","podcast_title"),t(i,"placeholder","My Awesome Podcast"),i.required=!0,t(k,"class","mb-2 label"),t(k,"for","podcast_slug"),t(_,"id","podcast_slug"),t(_,"name","podcast_slug"),t(_,"pattern","^[a-z0-9]+(?:-[a-z0-9]+)*$"),t(_,"placeholder","my-awesome-podcast"),t(_,"class","input mb-2 text-gray-400 label"),_.readOnly=!0,t(A,"class","label mb-2"),t(A,"for","rss_feed"),t(g,"class",G=`input ${n[7]?n[6]?"input-success":"input-error":""}`),t(g,"type","url"),t(g,"name","rss_feed"),t(g,"placeholder","https://my.awesome.podcast/rss"),t(P,"name","podcast_id"),t(V,"class","hidden"),t(w,"class","btn variant-filled mb-2"),w.disabled=K=!n[1],t(l,"class","flex flex-col space-y-2 grow mb-4"),t(C,"type","submit"),t(C,"class","btn variant-filled"),C.disabled=Q=!n[7]||!n[6],t(C,"formaction",W=`?/${n[3]}`),t(E,"class","flex flex-row justify-between space-x-2"),t(e,"method","POST"),t(e,"class","flex p-4 flex-col grow rounded-lg"),t(e,"action",X=`?/${n[3]}`)},m(s,c){x(s,e,c),r(e,l),r(l,a),r(a,o),r(a,u),r(a,i),O(i,n[5]),r(a,B),r(a,k),r(a,H),r(a,_),O(_,n[0]),r(l,j),r(l,h),r(h,A),r(h,$),r(h,g),O(g,n[1]),r(h,ee),v&&v.m(h,null),r(h,J),r(h,V),r(V,P),O(P,n[2]),r(l,te),r(l,w),r(w,le),r(l,ae),r(l,z),r(e,se),r(e,E),r(E,C),r(C,ne),r(E,re),f&&f.m(E,null),S=!0,ie||(de=[R(i,"input",n[9]),R(_,"input",n[10]),R(g,"change",n[8]),R(g,"input",n[11]),R(P,"input",n[12]),R(w,"click",ge(n[8]))],ie=!0)},p(s,[c]){c&32&&i.value!==s[5]&&O(i,s[5]),c&1&&_.value!==s[0]&&O(_,s[0]),(!S||c&192&&G!==(G=`input ${s[7]?s[6]?"input-success":"input-error":""}`))&&t(g,"class",G),c&2&&g.value!==s[1]&&O(g,s[1]),M!==(M=me(s))&&(v&&v.d(1),v=M&&M(s),v&&(v.c(),v.m(h,J))),c&4&&P.value!==s[2]&&O(P,s[2]),(!S||c&2&&K!==(K=!s[1]))&&(w.disabled=K),(!S||c&192&&Q!==(Q=!s[7]||!s[6]))&&(C.disabled=Q),(!S||c&8&&W!==(W=`?/${s[3]}`))&&t(C,"formaction",W),s[4].length?f?(f.p(s,c),c&16&&Z(f,1)):(f=be(s),f.c(),Z(f,1),f.m(E,null)):f&&(Ie(),fe(f,1,1,()=>{f=null}),Te()),(!S||c&8&&X!==(X=`?/${s[3]}`))&&t(e,"action",X)},i(s){S||(Z(f),S=!0)},o(s){fe(f),S=!1},d(s){s&&y(e),v&&v.d(),f&&f.d(),ie=!1,ye(de)}}}function Oe(n,e,l){let{slug:a=""}=e,{submitFormAction:o}=e,{feedUrl:p=""}=e,{podcastId:u=""}=e,{deleteAction:i=""}=e,B=!1,k=!1,F="";const H=async()=>{try{await Fe(p),l(6,B=!0)}catch{l(6,B=!1)}finally{l(7,k=!0)}};function _(){F=this.value,l(5,F)}function j(){a=this.value,l(0,a),l(5,F)}function h(){p=this.value,l(1,p)}function A(){u=this.value,l(2,u)}return n.$$set=b=>{"slug"in b&&l(0,a=b.slug),"submitFormAction"in b&&l(3,o=b.submitFormAction),"feedUrl"in b&&l(1,p=b.feedUrl),"podcastId"in b&&l(2,u=b.podcastId),"deleteAction"in b&&l(4,i=b.deleteAction)},n.$$.update=()=>{n.$$.dirty&32&&l(0,a=Ue(F))},[a,p,u,o,i,F,B,k,H,_,j,h,A]}class Re extends ke{constructor(e){super(),Ce(this,e,Oe,De,ve,{slug:0,submitFormAction:3,feedUrl:1,podcastId:2,deleteAction:4})}}export{Re as P};
